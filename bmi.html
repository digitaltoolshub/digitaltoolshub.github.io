<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Primary Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free online BMI calculator that provides accurate body mass index calculations, personalized health tips, and additional health metrics like waist-to-height ratio and ideal weight range.">
    <meta name="keywords" content="BMI calculator, body mass index, health calculator, weight calculator, fitness tool, ideal weight calculator, health assessment">
    <meta name="author" content="Ultimate Health Tools">
    
    <!-- Open Graph / Facebook Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="🌟 Ultimate BMI Calculator | Accurate Body Mass Index Tool">
    <meta property="og:description" content="Calculate your BMI instantly with our advanced calculator. Get personalized health tips and understand your weight status with our comprehensive tool.">
    <meta property="og:url" content="https://yourwebsite.com/bmi-calculator">
    <meta property="og:image" content="https://yourwebsite.com/images/bmi-calculator-preview.jpg">
    
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="🌟 Ultimate BMI Calculator | Accurate Body Mass Index Tool">
    <meta name="twitter:description" content="Calculate your BMI instantly with our advanced calculator. Get personalized health tips and understand your weight status.">
    <meta name="twitter:image" content="https://yourwebsite.com/images/bmi-calculator-preview.jpg">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://yourwebsite.com/bmi-calculator">
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R4N9RB1SNN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-R4N9RB1SNN');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3518482809806042" crossorigin="anonymous"></script>
    
    <title>🌟 Ultimate BMI Calculator | Accurate Body Mass Index Tool</title>
    
    <!-- Schema.org markup for Google -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Ultimate BMI Calculator",
      "url": "https://yourwebsite.com/bmi-calculator",
      "description": "Advanced BMI calculator with personalized health recommendations and additional health metrics.",
      "applicationCategory": "HealthApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    
    <style>
        :root {
            --primary: #6c63ff;
            --secondary: #ff6584;
            --dark: #333;
            --light: #f8f9fa;
        }
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            transition: background 0.5s;
        }
        body.dark-mode {
            background: linear-gradient(135deg, #2c3e50 0%, #1a1a2e 100%);
            color: #fff;
        }
        .calculator {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            padding: 30px;
            width: 380px;
            max-width: 100%;
            text-align: center;
            animation: float 4s ease-in-out infinite;
            transition: all 0.3s;
        }
        .dark-mode .calculator {
            background: rgba(30, 30, 40, 0.95);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-12px); }
        }
        h1 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 26px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        .toggle-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background: var(--primary);
        }
        input:checked + .slider:before {
            transform: translateX(30px);
        }
        .toggle-label {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }
        .input-group {
            margin: 15px 0;
            text-align: left;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--dark);
        }
        .dark-mode label {
            color: #ddd;
        }
        input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }
        .dark-mode input {
            background: #444;
            border-color: #555;
            color: #fff;
        }
        input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(108, 99, 255, 0.3);
            outline: none;
        }
        .result-container {
            margin-top: 25px;
            padding: 20px;
            border-radius: 10px;
            background: rgba(108, 99, 255, 0.1);
            animation: fadeIn 1s;
        }
        .dark-mode .result-container {
            background: rgba(108, 99, 255, 0.2);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        #bmi-value {
            font-size: 42px;
            font-weight: bold;
            color: var(--primary);
            margin: 10px 0;
        }
        #bmi-category {
            font-size: 20px;
            margin-bottom: 15px;
        }
        .tips {
            text-align: left;
            margin-top: 15px;
            font-size: 14px;
            line-height: 1.6;
        }
        .tips li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 20px;
        }
        .tips li:before {
            content: "•";
            color: var(--primary);
            position: absolute;
            left: 0;
            font-size: 20px;
        }
        .scale-container {
            margin: 25px 0;
        }
        .scale-bar {
            height: 12px;
            background: linear-gradient(90deg, #4CAF50, #FFC107, #FF5722);
            border-radius: 6px;
            position: relative;
            margin: 15px 0;
        }
        .scale-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #666;
        }
        .dark-mode .scale-labels {
            color: #aaa;
        }
        .bmi-pointer {
            position: absolute;
            top: -15px;
            left: 0;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 15px solid var(--dark);
            transform: translateX(-10px);
            transition: left 0.5s ease-out;
        }
        .dark-mode .bmi-pointer {
            border-top-color: #fff;
        }
        .additional-metrics {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .metric-box {
            flex: 1;
            padding: 15px;
            margin: 0 5px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        .dark-mode .metric-box {
            background: rgba(40, 40, 50, 0.8);
        }
        .metric-title {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }
        .dark-mode .metric-title {
            color: #aaa;
        }
        .metric-value {
            font-size: 18px;
            font-weight: bold;
        }
        button {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 15px;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(108, 99, 255, 0.2);
        }
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(108, 99, 255, 0.3);
        }
        .dark-mode-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--dark);
        }
        .dark-mode .dark-mode-toggle {
            color: #fff;
        }
        
        /* Accessibility improvements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
        input:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <button class="dark-mode-toggle" onclick="toggleDarkMode()" aria-label="Toggle dark mode">🌓</button>
    <div class="calculator">
        <h1>🌟 Ultimate BMI Calculator</h1>
        
        <div class="toggle-container">
            <div class="toggle-label">
                <span>Metric (kg/cm)</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="unit-toggle" aria-labelledby="unit-label">
                    <span class="slider"></span>
                </label>
                <span>Imperial (lbs/ft)</span>
            </div>
        </div>
        
        <div class="input-group">
            <label for="weight">Weight</label>
            <input type="number" id="weight" placeholder="Enter weight" step="0.1" min="20" max="300" aria-describedby="weight-help">
            <span id="weight-help" class="sr-only">Enter your weight in kilograms or pounds depending on selected unit system</span>
        </div>
        
        <div class="input-group">
            <label for="height">Height</label>
            <input type="number" id="height" placeholder="Enter height" min="100" max="250" aria-describedby="height-help">
            <span id="height-help" class="sr-only">Enter your height in centimeters or feet depending on selected unit system</span>
        </div>
        
        <div class="input-group">
            <label for="age">Age (optional)</label>
            <input type="number" id="age" placeholder="Enter age" min="2" max="120">
        </div>
        
        <div class="input-group">
            <label>Gender (optional)</label>
            <div style="display: flex; gap: 15px;">
                <label class="toggle-label">
                    <input type="radio" name="gender" value="male" checked> Male
                </label>
                <label class="toggle-label">
                    <input type="radio" name="gender" value="female"> Female
                </label>
            </div>
        </div>
        
        <div class="scale-container">
            <div class="scale-labels">
                <span>Underweight (<18.5)</span>
                <span>Normal (18.5-24.9)</span>
                <span>Overweight (25-29.9)</span>
                <span>Obese (30+)</span>
            </div>
            <div class="scale-bar">
                <div class="bmi-pointer" id="bmi-pointer"></div>
            </div>
        </div>
        
        <div class="result-container" id="result-container" style="display: none;">
            <div id="bmi-value">--</div>
            <div id="bmi-category">Enter your details</div>
            
            <div class="additional-metrics">
                <div class="metric-box">
                    <div class="metric-title">Waist-to-Height</div>
                    <div class="metric-value" id="wthr">--</div>
                </div>
                <div class="metric-box">
                    <div class="metric-title">Ideal Weight</div>
                    <div class="metric-value" id="ideal-weight">--</div>
                </div>
            </div>
            
            <div class="tips" id="tips">
                <!-- Tips will be inserted here -->
            </div>
        </div>
        
        <button onclick="shareResult()">📸 Share Result</button>
    </div>

    <script>
        // DOM Elements
        const weightInput = document.getElementById('weight');
        const heightInput = document.getElementById('height');
        const ageInput = document.getElementById('age');
        const unitToggle = document.getElementById('unit-toggle');
        const resultContainer = document.getElementById('result-container');
        const bmiValue = document.getElementById('bmi-value');
        const bmiCategory = document.getElementById('bmi-category');
        const bmiPointer = document.getElementById('bmi-pointer');
        const wthrValue = document.getElementById('wthr');
        const idealWeight = document.getElementById('ideal-weight');
        const tipsContainer = document.getElementById('tips');
        
        // Set initial focus on weight input for better UX
        weightInput.focus();
        
        // Event Listeners
        [weightInput, heightInput, ageInput, unitToggle].forEach(element => {
            element.addEventListener('input', calculateBMI);
            element.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') calculateBMI();
            });
        });
        
        document.querySelectorAll('input[name="gender"]').forEach(radio => {
            radio.addEventListener('change', calculateBMI);
        });
        
        // Main Calculation Function
        function calculateBMI() {
            let weight = parseFloat(weightInput.value);
            let height = parseFloat(heightInput.value);
            const age = parseInt(ageInput.value) || 30;
            const gender = document.querySelector('input[name="gender"]:checked').value;
            const isImperial = unitToggle.checked;
            
            // Validate inputs
            if (!weight || !height || weight <= 0 || height <= 0) {
                resultContainer.style.display = 'none';
                return;
            }
            
            // Convert units if imperial
            if (isImperial) {
                weight = weight / 2.20462; // lbs to kg
                height = height * 30.48; // ft to cm
            }
            
            // Calculate BMI
            const heightInMeters = height / 100;
            const bmi = weight / (heightInMeters * heightInMeters);
            const roundedBMI = Math.round(bmi * 10) / 10;
            
            // Calculate Waist-to-Height Ratio (simulated)
            const waistCircumference = (gender === 'male') 
                ? 0.45 * height + 10 + (bmi > 25 ? (bmi - 25) * 0.5 : 0)
                : 0.42 * height + 8 + (bmi > 25 ? (bmi - 25) * 0.4 : 0);
            const wthr = (waistCircumference / height).toFixed(2);
            
            // Calculate Ideal Weight Range
            const minIdeal = (18.5 * heightInMeters * heightInMeters).toFixed(1);
            const maxIdeal = (24.9 * heightInMeters * heightInMeters).toFixed(1);
            
            // Determine BMI Category
            let category, categoryClass;
            if (bmi < 18.5) {
                category = "Underweight 🏋️‍♂️";
                categoryClass = "underweight";
            } else if (bmi < 25) {
                category = "Normal Weight ✅";
                categoryClass = "normal";
            } else if (bmi < 30) {
                category = "Overweight ⚠️";
                categoryClass = "overweight";
            } else {
                category = "Obese ❌";
                categoryClass = "obese";
            }
            
            // Age adjustment note
            if (age > 65) category += " (Seniors may have different healthy ranges)";
            
            // Update UI
            bmiValue.textContent = roundedBMI;
            bmiCategory.textContent = category;
            bmiCategory.className = categoryClass;
            
            // Move BMI pointer
            const pointerPosition = Math.min(Math.max((bmi / 40) * 100, 2.5), 97.5);
            bmiPointer.style.left = `${pointerPosition}%`;
            
            // Update additional metrics
            wthrValue.textContent = wthr + (wthr > 0.5 ? " ⚠️" : " ✅");
            idealWeight.textContent = `${minIdeal} - ${maxIdeal} kg`;
            
            // Generate tips
            generateTips(bmi, gender, age, wthr);
            
            // Show results
            resultContainer.style.display = 'block';
            
            // Track BMI calculation event
            if (typeof gtag !== 'undefined') {
                gtag('event', 'calculate_bmi', {
                    'bmi_value': roundedBMI,
                    'bmi_category': categoryClass
                });
            }
        }
        
        // Generate Personalized Tips
        function generateTips(bmi, gender, age, wthr) {
            let tips = [];
            
            // BMI-based tips
            if (bmi < 18.5) {
                tips.push(
                    "Increase calorie intake with nutrient-dense foods like nuts, avocados, and whole grains",
                    "Focus on strength training to build muscle mass",
                    "Eat smaller, more frequent meals if you struggle with appetite"
                );
            } else if (bmi < 25) {
                tips.push(
                    "Maintain your healthy habits with balanced meals and regular exercise",
                    "Get at least 150 minutes of moderate activity weekly",
                    "Monitor your weight monthly to catch any changes early"
                );
            } else if (bmi < 30) {
                tips.push(
                    "Reduce portion sizes and cut back on sugary drinks",
                    "Aim for 30 minutes of brisk walking daily",
                    "Try intermittent fasting (16:8 method) if appropriate for you"
                );
            } else {
                tips.push(
                    "Consult a doctor or dietitian for personalized advice",
                    "Start with low-impact exercises like swimming or cycling",
                    "Keep a food diary to identify eating patterns"
                );
            }
            
            // Gender-specific tips
            if (gender === 'male') {
                tips.push("Men typically need more protein (0.8-1g per pound of body weight)");
            } else {
                tips.push("Women should ensure adequate iron and calcium intake");
            }
            
            // Age-specific tips
            if (age > 50) {
                tips.push("Prioritize protein to prevent muscle loss (sarcopenia)");
                tips.push("Include balance exercises to prevent falls");
            }
            
            // Waist-to-height ratio tips
            if (wthr > 0.5) {
                tips.push("Your waist-to-height ratio suggests excess abdominal fat - focus on core exercises");
            }
            
            // Display tips
            tipsContainer.innerHTML = '<h3>Personalized Health Tips:</h3><ul>' + 
                tips.map(tip => `<li>${tip}</li>`).join('') + '</ul>';
        }
        
        // Dark Mode Toggle
        function toggleDarkMode() {
            const isDarkMode = document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
            
            // Track dark mode toggle
            if (typeof gtag !== 'undefined') {
                gtag('event', 'toggle_dark_mode', {
                    'dark_mode_enabled': isDarkMode
                });
            }
        }
        
        // Check for saved dark mode preference
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
        }
        
        // Share Result (simulated)
        function shareResult() {
            if (navigator.share) {
                navigator.share({
                    title: 'My BMI Results',
                    text: `My BMI is ${bmiValue.textContent} (${bmiCategory.textContent}). Check out this BMI calculator!`,
                    url: window.location.href
                }).catch(err => {
                    console.log('Error sharing:', err);
                    fallbackShare();
                });
            } else {
                fallbackShare();
            }
            
            // Track share event
            if (typeof gtag !== 'undefined') {
                gtag('event', 'share_results');
            }
        }
        
        function fallbackShare() {
            alert("Screenshot this page to share your results!\nOr copy this link: " + window.location.href);
        }
        
        // Initialize calculator if URL has parameters
        window.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            if (params.has('weight') && params.has('height')) {
                weightInput.value = params.get('weight');
                heightInput.value = params.get('height');
                if (params.has('age')) ageInput.value = params.get('age');
                if (params.has('gender')) {
                    document.querySelector(`input[name="gender"][value="${params.get('gender')}"]`).checked = true;
                }
                if (params.has('unit')) {
                    unitToggle.checked = params.get('unit') === 'imperial';
                }
                calculateBMI();
            }
        });
    </script>
</body>
</html>