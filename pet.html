<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Calculate accurate pet ownership costs for dogs, cats, birds, fish, reptiles, farm animals and more. Compare prices across countries and get money-saving tips.">
    <meta name="keywords" content="pet cost calculator, dog ownership costs, cat expenses, bird care costs, farm animal expenses, pet budget planner, pet care guide, pet personality quiz">
    <meta name="author" content="Ultimate Pet Cost Analyzer">
    <meta property="og:title" content="Ultimate Pet Cost Analyzer | Accurate Pet Ownership Calculator">
    <meta property="og:description" content="Calculate how much any pet will cost monthly based on type, breed, lifestyle and location.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://petcostanalyzer.com">
    <meta property="og:image" content="https://petcostanalyzer.com/images/pet-cost-social-share.jpg">
    <title>Ultimate Pet Cost Analyzer | Global Pet Expense Calculator & Care Guides</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Fredoka+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="manifest" href="/manifest.json">
    <style>
        :root {
            --primary: #6c5ce7;
            --primary-light: #a29bfe;
            --secondary: #00cec9;
            --accent: #fd79a8;
            --accent-light: #ffb8c6;
            --light: #f8f9fa;
            --light-gray: #e0e0e0;
            --dark: #2d3436;
            --dark-gray: #636e72;
            --success: #00b894;
            --success-light: #55efc4;
            --warning: #fdcb6e;
            --warning-light: #ffeaa7;
            --danger: #d63031;
            --danger-light: #ff7675;
            --info: #0984e3;
            --info-light: #74b9ff;
            --luxury: #e84393;
            --luxury-light: #fd79a8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #dfe6e9 100%);
            color: var(--dark);
            min-height: 100vh;
            padding: 20px;
            background-attachment: fixed;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeInDown 1s;
            position: relative;
        }

        .header-bg {
            position: absolute;
            top: -50px;
            left: 0;
            right: 0;
            height: 300px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            z-index: -1;
            clip-path: ellipse(100% 60% at 50% 30%);
            opacity: 0.1;
        }

        h1 {
            font-size: 3rem;
            color: var(--dark);
            margin-bottom: 10px;
            font-family: 'Fredoka One', cursive;
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            letter-spacing: 1px;
        }

        .subtitle {
            font-size: 1.3rem;
            color: var(--dark-gray);
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Tab Navigation */
        .tabs {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 10px;
        }

        .tab-btn {
            padding: 12px 25px;
            background: white;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            color: var(--dark-gray);
        }

        .tab-btn.active {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(108, 92, 231, 0.3);
        }

        .tab-btn:hover:not(.active) {
            background: var(--light-gray);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        .pet-icon-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin: 30px 0;
        }

        .pet-icon {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--primary);
        }

        .pet-icon:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            background: var(--primary);
            color: white;
        }

        .pet-icon.active {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        .pet-analyzer {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            margin-bottom: 40px;
            animation: fadeInUp 1s;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .pet-analyzer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
        }

        .pet-analyzer:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
        }

        .form-group {
            margin-bottom: 25px;
            position: relative;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--dark);
            font-size: 1.05rem;
        }

        select, input, textarea {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid var(--light-gray);
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s;
            background-color: #f8f9fa;
            appearance: none;
            font-family: 'Poppins', sans-serif;
        }

        select {
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236c5ce7' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 15px;
        }

        select:focus, input:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(108, 92, 231, 0.2);
            background-color: white;
        }

        .btn {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 16px 30px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(108, 92, 231, 0.4);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, var(--secondary), var(--primary));
            opacity: 0;
            transition: opacity 0.3s;
            z-index: -1;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(108, 92, 231, 0.5);
        }

        .btn:hover::before {
            opacity: 1;
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
            box-shadow: none;
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: white;
            box-shadow: 0 5px 20px rgba(108, 92, 231, 0.4);
        }

        .btn-lg {
            padding: 18px 35px;
            font-size: 1.2rem;
        }

        .btn-block {
            display: block;
            width: 100%;
        }

        .results {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            margin-top: 30px;
            display: none;
            animation: fadeIn 1s;
            position: relative;
            overflow: hidden;
        }

        .results::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(to right, var(--success), var(--info));
        }

        .results h2 {
            color: var(--dark);
            margin-bottom: 30px;
            text-align: center;
            font-size: 2rem;
            font-family: 'Fredoka One', cursive;
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .cost-breakdown {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 40px;
            gap: 15px;
        }

        .cost-item {
            flex: 1;
            min-width: 180px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
            border: 1px solid rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
        }

        .cost-item::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary);
        }

        .cost-item:nth-child(1)::after { background: var(--primary); }
        .cost-item:nth-child(2)::after { background: var(--success); }
        .cost-item:nth-child(3)::after { background: var(--accent); }
        .cost-item:nth-child(4)::after { background: var(--warning); }
        .cost-item:nth-child(5)::after { background: var(--info); }

        .cost-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .cost-item h3 {
            color: var(--dark-gray);
            font-size: 1rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .cost-item p {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--dark);
            margin: 0;
        }

        .total-cost {
            text-align: center;
            margin: 40px 0;
            padding: 30px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 15px;
            color: white;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(108, 92, 231, 0.4);
        }

        .total-cost::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) rotate(30deg); }
            100% { transform: translateX(100%) rotate(30deg); }
        }

        .total-cost h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            position: relative;
        }

        .total-cost p {
            font-size: 3.5rem;
            font-weight: 700;
            margin: 0;
            font-family: 'Fredoka One', cursive;
            position: relative;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .chart-container {
            margin-top: 50px;
            height: 400px;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .pet-image {
            text-align: center;
            margin: 30px 0;
        }

        .pet-image img {
            max-width: 220px;
            border-radius: 50%;
            border: 8px solid white;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
            transition: all 0.3s;
        }

        .pet-image img:hover {
            transform: rotate(5deg) scale(1.05);
        }

        .lifestyle-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
        }

        .lifestyle-option {
            flex: 1;
            min-width: 150px;
        }

        .lifestyle-option input {
            display: none;
        }

        .lifestyle-option label {
            display: block;
            padding: 20px 15px;
            background: #f8f9fa;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #e0e0e0;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .lifestyle-option label::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--light-gray);
            transition: all 0.3s;
        }

        .lifestyle-option input:checked + label {
            background: white;
            border-color: var(--primary);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateY(-3px);
        }

        .lifestyle-option input:checked + label::after {
            background: var(--primary);
        }

        #basic:checked + label {
            border-color: var(--success);
        }
        #basic:checked + label::after {
            background: var(--success);
        }

        #standard:checked + label {
            border-color: var(--info);
        }
        #standard:checked + label::after {
            background: var(--info);
        }

        #premium:checked + label {
            border-color: var(--warning);
        }
        #premium:checked + label::after {
            background: var(--warning);
        }

        #luxury:checked + label {
            border-color: var(--luxury);
        }
        #luxury:checked + label::after {
            background: var(--luxury);
        }

        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 5px;
            cursor: help;
            color: var(--primary);
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 250px;
            background-color: var(--dark);
            color: #fff;
            text-align: center;
            border-radius: 10px;
            padding: 12px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9rem;
            font-weight: normal;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--dark) transparent transparent transparent;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 30px 0;
        }

        .spinner {
            width: 60px;
            height: 60px;
            margin: 0 auto 20px;
            border: 5px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 5px solid var(--primary);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .country-flag {
            width: 20px;
            height: 15px;
            margin-right: 8px;
            vertical-align: middle;
            border-radius: 2px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }

        footer {
            text-align: center;
            margin-top: 60px;
            color: var(--dark-gray);
            opacity: 0.8;
            font-size: 0.95rem;
            padding: 20px;
        }

        .feature-highlights {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 40px 0;
            justify-content: center;
        }

        .feature {
            flex: 1;
            min-width: 250px;
            max-width: 300px;
            background: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }

        .feature:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .feature i {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .feature h3 {
            margin-bottom: 10px;
            color: var(--dark);
        }

        .feature p {
            color: var(--dark-gray);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .share-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .share-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .share-btn:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .facebook { background: #3b5998; }
        .twitter { background: #1da1f2; }
        .instagram { background: linear-gradient(45deg, #405de6, #5851db, #833ab4, #c13584, #e1306c, #fd1d1d); }
        .pinterest { background: #e60023; }

        /* New Features Styles */
        .gamification-badge {
            display: inline-block;
            background: linear-gradient(to right, var(--warning), var(--danger));
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 10px;
            vertical-align: middle;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .compare-section {
            background: var(--light);
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
            text-align: center;
        }

        .compare-result {
            font-size: 1.2rem;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .ai-advice {
            background: var(--light);
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
        }

        .ai-response {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            border-left: 4px solid var(--primary);
        }

        .analytics-section {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }

        .analytics-card {
            flex: 1;
            min-width: 250px;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        /* Updated Quiz Styles */
        .quiz-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .quiz-question {
            font-size: 1.2rem;
            margin-bottom: 20px;
            font-weight: 600;
            color: var(--dark);
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .quiz-option {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #e0e0e0;
            color: var(--dark);
            font-weight: 500;
        }

        .quiz-option:hover {
            background: var(--primary-light);
            color: white;
            border-color: var(--primary);
        }

        .quiz-option.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .quiz-result {
            text-align: center;
            margin-top: 30px;
            display: none;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }

        .quiz-result h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .quiz-result img {
            max-width: 200px;
            border-radius: 10px;
            margin: 15px auto;
            display: block;
        }

        .pet-mascot {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 100px;
            height: 100px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 1000;
        }

        .pet-mascot:hover {
            transform: scale(1.1);
        }

        .testimonial {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .testimonial-author {
            font-weight: bold;
            margin-top: 10px;
            display: flex;
            align-items: center;
        }

        .testimonial-author img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }

        .insurance-comparison {
            margin: 30px 0;
        }

        .insurance-option {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .insurance-logo {
            width: 80px;
            height: auto;
            margin-right: 15px;
        }

        .pet-care-resources {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
        }

        .resource-category {
            margin-bottom: 20px;
        }

        .resource-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
        }

        .resource-item:hover {
            background: var(--primary-light);
            color: white;
        }

        .resource-content {
            display: none;
            padding: 15px;
            background: white;
            border-radius: 10px;
            margin-top: 10px;
            border-left: 4px solid var(--primary);
        }

        .resource-content.active {
            display: block;
        }

        @media (max-width: 768px) {
            .cost-breakdown, .lifestyle-options {
                flex-direction: column;
            }
            
            .cost-item {
                margin: 10px 0;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .subtitle {
                font-size: 1.1rem;
            }
            
            .pet-analyzer, .results {
                padding: 25px;
            }
            
            .total-cost p {
                font-size: 2.5rem;
            }

            .pet-mascot {
                width: 70px;
                height: 70px;
                bottom: 10px;
                right: 10px;
            }

            .quiz-options {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-bg"></div>
            <h1 class="animate__animated animate__fadeInDown">Ultimate Pet Cost Analyzer</h1>
            <p class="subtitle animate__animated animate__fadeIn animate__delay-1s">
                Get accurate monthly expense estimates for any pet worldwide with real-time pricing data and personalized lifestyle options
            </p>
            
            <div class="pet-icon-container animate__animated animate__fadeIn animate__delay-1s">
                <div class="pet-icon" data-pet="dog"><i class="fas fa-dog"></i></div>
                <div class="pet-icon" data-pet="cat"><i class="fas fa-cat"></i></div>
                <div class="pet-icon" data-pet="bird"><i class="fas fa-dove"></i></div>
                <div class="pet-icon" data-pet="fish"><i class="fas fa-fish"></i></div>
                <div class="pet-icon" data-pet="reptile"><i class="fas fa-dragon"></i></div>
                <div class="pet-icon" data-pet="small-mammal"><i class="fas fa-otter"></i></div>
                <div class="pet-icon" data-pet="exotic"><i class="fas fa-spider"></i></div>
                <div class="pet-icon" data-pet="farm"><i class="fas fa-horse"></i></div>
                <div class="pet-icon" data-pet="amphibian"><i class="fas fa-frog"></i></div>
            </div>
        </header>

        <div class="feature-highlights">
            <div class="feature animate__animated animate__fadeInUp animate__delay-1s">
                <i class="fas fa-globe-americas"></i>
                <h3>Global Pricing</h3>
                <p>Accurate cost estimates tailored to your country with real-time currency conversion</p>
            </div>
            <div class="feature animate__animated animate__fadeInUp animate__delay-1.2s">
                <i class="fas fa-paw"></i>
                <h3>100+ Pets</h3>
                <p>From common cats to exotic tarantulas - we cover all pet types with detailed breed info</p>
            </div>
            <div class="feature animate__animated animate__fadeInUp animate__delay-1.4s">
                <i class="fas fa-crown"></i>
                <h3>Lifestyle Options</h3>
                <p>Calculate costs for basic care or luxury pampering with our tiered lifestyle system</p>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="calculator">Cost Calculator</button>
            <button class="tab-btn" data-tab="quiz">Pet Personality Quiz</button>
            <button class="tab-btn" data-tab="resources">Pet Care Resources</button>
            <button class="tab-btn" data-tab="guides">Care Guides</button>
        </div>

        <!-- Calculator Tab -->
        <div class="tab-content active" id="calculator">
            <div class="pet-analyzer animate__animated animate__fadeInUp animate__delay-1s">
                <div class="form-group">
                    <label for="pet-type">Pet Type <span class="tooltip"><i class="fas fa-info-circle"></i>
                        <span class="tooltiptext">Select the type of pet you own or plan to own. We cover all major pet categories from dogs to exotic animals.</span>
                    </span></label>
                    <select id="pet-type">
                        <option value="">-- Select Pet Type --</option>
                        <option value="dog">Dog</option>
                        <option value="cat">Cat</option>
                        <option value="bird">Bird</option>
                        <option value="fish">Fish</option>
                        <option value="reptile">Reptile</option>
                        <option value="small-mammal">Small Mammal</option>
                        <option value="exotic">Exotic Pet</option>
                        <option value="farm">Farm Animal</option>
                        <option value="amphibian">Amphibian</option>
                        <option value="invertebrate">Invertebrate</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group" id="breed-group" style="display: none;">
                    <label for="pet-breed">Breed/Type <span class="tooltip"><i class="fas fa-info-circle"></i>
                        <span class="tooltiptext">Select the specific breed or type of your pet. Costs vary significantly between breeds.</span>
                    </span></label>
                    <select id="pet-breed">
                        <option value="">-- Select Breed/Type --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="pet-age">Pet Age <span class="tooltip"><i class="fas fa-info-circle"></i>
                        <span class="tooltiptext">Younger pets may have higher initial costs, older pets may have higher medical costs. Select the appropriate age range.</span>
                    </span></label>
                    <select id="pet-age">
                        <option value="young">Young (0-1 year)</option>
                        <option value="adult" selected>Adult (1-7 years)</option>
                        <option value="senior">Senior (7+ years)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Lifestyle <span class="tooltip"><i class="fas fa-info-circle"></i>
                        <span class="tooltiptext">Select the lifestyle you plan to provide for your pet. This dramatically affects costs from basic necessities to luxury care.</span>
                    </span></label>
                    <div class="lifestyle-options">
                        <div class="lifestyle-option">
                            <input type="radio" id="basic" name="lifestyle" value="basic" checked>
                            <label for="basic"><i class="fas fa-home"></i> Basic Care</label>
                        </div>
                        <div class="lifestyle-option">
                            <input type="radio" id="standard" name="lifestyle" value="standard">
                            <label for="standard"><i class="fas fa-star"></i> Standard</label>
                        </div>
                        <div class="lifestyle-option">
                            <input type="radio" id="premium" name="lifestyle" value="premium">
                            <label for="premium"><i class="fas fa-gem"></i> Premium</label>
                        </div>
                        <div class="lifestyle-option">
                            <input type="radio" id="luxury" name="lifestyle" value="luxury">
                            <label for="luxury"><i class="fas fa-crown"></i> Luxury</label>
                        </div>
                    </div>
                </div>

                <div class="form-group" id="size-group">
                    <label for="pet-size">Size <span class="tooltip"><i class="fas fa-info-circle"></i>
                        <span class="tooltiptext">Larger pets typically have higher food and care costs. Select the appropriate size category.</span>
                    </span></label>
                    <select id="pet-size">
                        <option value="small">Small (under 20 lbs / 9 kg)</option>
                        <option value="medium" selected>Medium (20-50 lbs / 9-23 kg)</option>
                        <option value="large">Large (50-100 lbs / 23-45 kg)</option>
                        <option value="xlarge">Extra Large (100+ lbs / 45+ kg)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="location">Your Country <span class="tooltip"><i class="fas fa-info-circle"></i>
                        <span class="tooltiptext">Prices vary significantly by country due to local costs. Select your country for accurate estimates.</span>
                    </span></label>
                    <select id="location">
                        <optgroup label="North America">
                            <option value="us" data-flag="us">United States</option>
                            <option value="ca" data-flag="ca">Canada</option>
                            <option value="mx" data-flag="mx">Mexico</option>
                        </optgroup>
                        <optgroup label="Europe">
                            <option value="uk" data-flag="gb">United Kingdom</option>
                            <option value="de" data-flag="de">Germany</option>
                            <option value="fr" data-flag="fr">France</option>
                            <option value="it" data-flag="it">Italy</option>
                            <option value="es" data-flag="es">Spain</option>
                        </optgroup>
                        <optgroup label="Asia">
                            <option value="jp" data-flag="jp">Japan</option>
                            <option value="cn" data-flag="cn">China</option>
                            <option value="in" data-flag="in">India</option>
                            <option value="au" data-flag="au">Australia</option>
                        </optgroup>
                        <optgroup label="Other">
                            <option value="br" data-flag="br">Brazil</option>
                            <option value="za" data-flag="za">South Africa</option>
                            <option value="ae" data-flag="ae">UAE</option>
                            <option value="other">Other Country</option>
                        </optgroup>
                    </select>
                </div>

                <div class="form-group" id="zip-group" style="display: none;">
                    <label for="zip-code">ZIP/Postal Code <span class="tooltip"><i class="fas fa-info-circle"></i>
                        <span class="tooltiptext">Enter your ZIP code for hyper-local pricing</span>
                    </span></label>
                    <input type="text" id="zip-code" placeholder="Enter your ZIP code">
                </div>

                <button id="calculate-btn" class="btn btn-lg btn-block">
                    <i class="fas fa-calculator"></i> Calculate Monthly Costs
                </button>

                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>Fetching real-time pricing data for your location...</p>
                </div>
            </div>

            <div class="results" id="results">
                <div class="pet-image">
                    <img id="pet-img" src="" alt="Pet image">
                </div>
                <h2>Your Personalized Pet Cost Analysis</h2>
                
                <div class="cost-breakdown">
                    <div class="cost-item">
                        <h3><i class="fas fa-utensils"></i> Food</h3>
                        <p id="food-cost">$0</p>
                    </div>
                    <div class="cost-item">
                        <h3><i class="fas fa-heartbeat"></i> Healthcare</h3>
                        <p id="healthcare-cost">$0</p>
                    </div>
                    <div class="cost-item">
                        <h3><i class="fas fa-spa"></i> Grooming</h3>
                        <p id="grooming-cost">$0</p>
                    </div>
                    <div class="cost-item">
                        <h3><i class="fas fa-shopping-basket"></i> Supplies</h3>
                        <p id="supplies-cost">$0</p>
                    </div>
                    <div class="cost-item">
                        <h3><i class="fas fa-shield-alt"></i> Insurance</h3>
                        <p id="insurance-cost">$0</p>
                    </div>
                </div>

                <div class="total-cost">
                    <h3>Total Estimated Monthly Cost</h3>
                    <p id="total-cost">$0</p>
                    <div id="cost-badge" class="gamification-badge" style="display: none;">Budget Pet Owner</div>
                </div>

                <div class="compare-section">
                    <h3><i class="fas fa-users"></i> Compare With Friends</h3>
                    <p>See how your pet costs compare to others with similar pets</p>
                    <div class="compare-result" id="compare-result">
                        Loading comparison data...
                    </div>
                    <button id="share-comparison" class="btn btn-secondary">
                        <i class="fas fa-share-alt"></i> Share Comparison
                    </button>
                </div>

                <div class="chart-container">
                    <canvas id="cost-chart"></canvas>
                </div>

                <div class="analytics-section">
                    <div class="analytics-card">
                        <h3><i class="fas fa-calendar-alt"></i> Yearly Projection</h3>
                        <p id="yearly-cost">$0</p>
                        <p>Estimated annual cost based on your monthly expenses</p>
                    </div>
                    <div class="analytics-card">
                        <h3><i class="fas fa-piggy-bank"></i> Potential Savings</h3>
                        <p id="potential-savings">$0</p>
                        <p>You could save this much annually with bulk purchases</p>
                    </div>
                    <div class="analytics-card">
                        <h3><i class="fas fa-stethoscope"></i> Vet Visit Probability</h3>
                        <p id="vet-probability">25%</p>
                        <p>Chance your pet will need vet care next month</p>
                    </div>
                </div>

                <div class="ai-advice">
                    <h3><i class="fas fa-robot"></i> AI Pet Cost Advisor</h3>
                    <p>Get personalized advice on managing your pet expenses</p>
                    <div class="ai-response" id="ai-response">
                        Ask me how to reduce your pet costs or find affordable products...
                    </div>
                    <div class="form-group" style="margin-top: 15px;">
                        <input type="text" id="ai-question" placeholder="Ask a question about pet costs...">
                        <button id="ask-ai" class="btn" style="margin-top: 10px;">
                            <i class="fas fa-paper-plane"></i> Ask AI
                        </button>
                    </div>
                </div>

                <div class="insurance-comparison">
                    <h3><i class="fas fa-clipboard-list"></i> Insurance Comparison</h3>
                    <p>Compare recommended insurance plans for your pet</p>
                    <div class="insurance-option">
                        <div style="display: flex; align-items: center;">
                            <img src="https://via.placeholder.com/80x40?text=Lemonade" alt="Lemonade" class="insurance-logo">
                            <div>
                                <h4>Lemonade</h4>
                                <p id="lemonade-cost">$0/month</p>
                            </div>
                        </div>
                        <button class="btn btn-secondary">Get Quote</button>
                    </div>
                    <div class="insurance-option">
                        <div style="display: flex; align-items: center;">
                            <img src="https://via.placeholder.com/80x40?text=Trupanion" alt="Trupanion" class="insurance-logo">
                            <div>
                                <h4>Trupanion</h4>
                                <p id="trupanion-cost">$0/month</p>
                            </div>
                        </div>
                        <button class="btn btn-secondary">Get Quote</button>
                    </div>
                    <div class="insurance-option">
                        <div style="display: flex; align-items: center;">
                            <img src="https://via.placeholder.com/80x40?text=Nationwide" alt="Nationwide" class="insurance-logo">
                            <div>
                                <h4>Nationwide</h4>
                                <p id="nationwide-cost">$0/month</p>
                            </div>
                        </div>
                        <button class="btn btn-secondary">Get Quote</button>
                    </div>
                </div>

                <div class="testimonial">
                    <h3><i class="fas fa-quote-left"></i> Real User Stories</h3>
                    <p>"This tool helped me realize I could afford a cat by showing me exactly where I could save on costs. I've had my rescue cat for 6 months now and the estimates were spot on!"</p>
                    <div class="testimonial-author">
                        <img src="https://randomuser.me/api/portraits/women/43.jpg" alt="Sarah J.">
                        <div>
                            <strong>Sarah J.</strong>
                            <div>Cat Owner, London</div>
                        </div>
                    </div>
                </div>

                <div class="share-buttons">
                    <div class="share-btn facebook"><i class="fab fa-facebook-f"></i></div>
                    <div class="share-btn twitter"><i class="fab fa-twitter"></i></div>
                    <div class="share-btn instagram"><i class="fab fa-instagram"></i></div>
                    <div class="share-btn pinterest"><i class="fab fa-pinterest-p"></i></div>
                </div>
            </div>
        </div>

        <!-- Quiz Tab -->
        <div class="tab-content" id="quiz">
            <div class="quiz-container">
                <h2><i class="fas fa-question-circle"></i> Pet Personality Quiz</h2>
                <p class="subtitle">Find out which pet fits your budget and lifestyle</p>
                
                <div id="quiz-questions">
                    <div class="quiz-question">1. What's your ideal monthly pet budget?</div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-value="low">Under $50</div>
                        <div class="quiz-option" data-value="medium">$50-$150</div>
                        <div class="quiz-option" data-value="high">$150+</div>
                    </div>
                    
                    <div class="quiz-question" style="display: none;">2. How much time can you spend daily on pet care?</div>
                    <div class="quiz-options" style="display: none;">
                        <div class="quiz-option" data-value="low">Less than 30 minutes</div>
                        <div class="quiz-option" data-value="medium">30 minutes to 2 hours</div>
                        <div class="quiz-option" data-value="high">2+ hours</div>
                    </div>
                    
                    <div class="quiz-question" style="display: none;">3. What type of pet experience do you prefer?</div>
                    <div class="quiz-options" style="display: none;">
                        <div class="quiz-option" data-value="independent">Independent and low-maintenance</div>
                        <div class="quiz-option" data-value="interactive">Interactive and playful</div>
                        <div class="quiz-option" data-value="companion">Companion and affectionate</div>
                    </div>
                    
                    <div class="quiz-question" style="display: none;">4. How much space do you have available for a pet?</div>
                    <div class="quiz-options" style="display: none;">
                        <div class="quiz-option" data-value="small">Small apartment (under 500 sq ft)</div>
                        <div class="quiz-option" data-value="medium">Medium home (500-1500 sq ft)</div>
                        <div class="quiz-option" data-value="large">Large home or yard (1500+ sq ft)</div>
                    </div>
                    
                    <div class="quiz-question" style="display: none;">5. What's your experience level with pets?</div>
                    <div class="quiz-options" style="display: none;">
                        <div class="quiz-option" data-value="beginner">First-time pet owner</div>
                        <div class="quiz-option" data-value="intermediate">Some experience</div>
                        <div class="quiz-option" data-value="expert">Very experienced</div>
                    </div>
                </div>
                
                <div class="quiz-result" id="quiz-result">
                    <h3>Your Perfect Pet Is...</h3>
                    <div id="quiz-pet-result">Loading recommendation...</div>
                    <button id="share-quiz" class="btn" style="margin-top: 15px;">
                        <i class="fas fa-share-alt"></i> Share Your Result
                    </button>
                </div>
                
                <button id="next-question" class="btn" style="margin-top: 20px;">
                    Next Question <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>

        <!-- Resources Tab -->
        <div class="tab-content" id="resources">
            <div class="pet-care-resources">
                <h2><i class="fas fa-book-open"></i> Pet Care Resources</h2>
                <p class="subtitle">Essential information and tools for pet owners</p>
                
                <div class="resource-category">
                    <h3><i class="fas fa-utensils"></i> Nutrition Guides</h3>
                    <div class="resource-item" data-resource="dog-nutrition">
                        Dog Nutrition Guide
                    </div>
                    <div class="resource-content" id="dog-nutrition">
                        <h4>Dog Nutrition Essentials</h4>
                        <p>Dogs require a balanced diet of proteins, fats, carbohydrates, vitamins, and minerals. The exact amounts depend on age, size, and activity level:</p>
                        <ul>
                            <li><strong>Puppies:</strong> Need food with 22-32% protein and 10-25% fat</li>
                            <li><strong>Adult dogs:</strong> 18-25% protein and 10-15% fat</li>
                            <li><strong>Senior dogs:</strong> May need lower calorie food with joint supplements</li>
                        </ul>
                        <p>Feed 2-3 meals per day for most dogs. Always provide fresh water. Avoid toxic foods like chocolate, grapes, onions, and xylitol.</p>
                    </div>
                    
                    <div class="resource-item" data-resource="cat-nutrition">
                        Cat Nutrition Guide
                    </div>
                    <div class="resource-content" id="cat-nutrition">
                        <h4>Cat Nutrition Essentials</h4>
                        <p>Cats are obligate carnivores and require high-protein diets with specific nutrients:</p>
                        <ul>
                            <li><strong>Protein:</strong> Should be 30-45% of diet (higher for kittens)</li>
                            <li><strong>Taurine:</strong> Essential amino acid found only in animal tissue</li>
                            <li><strong>Water:</strong> Cats have low thirst drive - wet food helps hydration</li>
                        </ul>
                        <p>Feed measured amounts 2-3 times daily. Avoid dog food, milk, and raw fish. Provide clean water at all times.</p>
                    </div>
                </div>
                
                <div class="resource-category">
                    <h3><i class="fas fa-home"></i> Housing & Environment</h3>
                    <div class="resource-item" data-resource="small-pet-housing">
                        Small Pet Housing Guide
                    </div>
                    <div class="resource-content" id="small-pet-housing">
                        <h4>Creating the Perfect Home for Small Pets</h4>
                        <p>Small mammals like rabbits, guinea pigs, and hamsters need appropriate housing:</p>
                        <ul>
                            <li><strong>Size:</strong> Minimum 4 square feet for rabbits/guinea pigs, 2 square feet for hamsters</li>
                            <li><strong>Bedding:</strong> Use paper-based or aspen shavings (avoid cedar/pine)</li>
                            <li><strong>Enrichment:</strong> Hideouts, tunnels, chew toys, and exercise wheels</li>
                            <li><strong>Temperature:</strong> Keep between 65-75F (18-24C) away from drafts</li>
                        </ul>
                        <p>Clean cages weekly and spot clean daily. Provide separate areas for sleeping, eating, and toileting.</p>
                    </div>
                    
                    <div class="resource-item" data-resource="aquarium-setup">
                        Aquarium Setup Guide
                    </div>
                    <div class="resource-content" id="aquarium-setup">
                        <h4>Setting Up a Healthy Aquarium</h4>
                        <p>Proper aquarium setup is crucial for fish health:</p>
                        <ul>
                            <li><strong>Tank size:</strong> Minimum 10 gallons for small fish, larger for active species</li>
                            <li><strong>Filtration:</strong> Choose a filter rated for your tank size</li>
                            <li><strong>Heating:</strong> Most tropical fish need 75-80F (24-27C)</li>
                            <li><strong>Cycling:</strong> Establish beneficial bacteria before adding fish (2-6 weeks)</li>
                        </ul>
                        <p>Perform 25% water changes weekly. Test water regularly for ammonia, nitrites, nitrates, pH, and hardness.</p>
                    </div>
                </div>
                
                <div class="resource-category">
                    <h3><i class="fas fa-heartbeat"></i> Health & Wellness</h3>
                    <div class="resource-item" data-resource="vaccination-schedule">
                        Vaccination Schedules
                    </div>
                    <div class="resource-content" id="vaccination-schedule">
                        <h4>Essential Vaccinations for Pets</h4>
                        <p><strong>Dogs:</strong></p>
                        <ul>
                            <li><strong>Core vaccines:</strong> Rabies, Distemper, Parvovirus, Adenovirus</li>
                            <li><strong>Non-core:</strong> Bordetella, Leptospirosis, Lyme disease</li>
                            <li><strong>Puppy schedule:</strong> Every 3-4 weeks from 6-16 weeks</li>
                            <li><strong>Adult boosters:</strong> Every 1-3 years depending on vaccine</li>
                        </ul>
                        <p><strong>Cats:</strong></p>
                        <ul>
                            <li><strong>Core vaccines:</strong> Rabies, FVRCP (Feline Viral Rhinotracheitis, Calicivirus, Panleukopenia)</li>
                            <li><strong>Non-core:</strong> FeLV (for outdoor cats), FIP</li>
                            <li><strong>Kitten schedule:</strong> Every 3-4 weeks from 6-16 weeks</li>
                            <li><strong>Adult boosters:</strong> Every 1-3 years</li>
                        </ul>
                    </div>
                    
                    <div class="resource-item" data-resource="grooming-guide">
                        Grooming Guide
                    </div>
                    <div class="resource-content" id="grooming-guide">
                        <h4>Pet Grooming Essentials</h4>
                        <p><strong>Dogs:</strong></p>
                        <ul>
                            <li><strong>Brushing:</strong> Daily for long-haired breeds, weekly for short-haired</li>
                            <li><strong>Bathing:</strong> Every 4-6 weeks with dog shampoo</li>
                            <li><strong>Nail trimming:</strong> Every 3-4 weeks</li>
                            <li><strong>Ear cleaning:</strong> Weekly for floppy-eared breeds</li>
                        </ul>
                        <p><strong>Cats:</strong></p>
                        <ul>
                            <li><strong>Brushing:</strong> Weekly for short-haired, daily for long-haired</li>
                            <li><strong>Bathing:</strong> Rarely needed unless medically necessary</li>
                            <li><strong>Nail trimming:</strong> Every 2-3 weeks</li>
                            <li><strong>Dental care:</strong> Brush teeth daily or use dental treats</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Guides Tab -->
        <div class="tab-content" id="guides">
            <div class="pet-care-resources">
                <h2><i class="fas fa-book"></i> Comprehensive Pet Care Guides</h2>
                <p class="subtitle">Detailed guides for specific pet types and breeds</p>
                
                <div class="resource-category">
                    <h3><i class="fas fa-dog"></i> Dog Breed Guides</h3>
                    <div class="resource-item" data-resource="labrador-guide">
                        Labrador Retriever Guide
                    </div>
                    <div class="resource-content" id="labrador-guide">
                        <h4>Labrador Retriever Complete Care Guide</h4>
                        <img src="https://images.unsplash.com/photo-1586671267731-da2cf3ceeb80?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Labrador Retriever" style="width: 100%; max-width: 300px; border-radius: 10px; float: right; margin: 0 0 15px 15px;">
                        <p><strong>Temperament:</strong> Friendly, outgoing, high-energy</p>
                        <p><strong>Size:</strong> 55-80 lbs (25-36 kg), 21.5-24.5 inches (55-62 cm) tall</p>
                        <p><strong>Lifespan:</strong> 10-12 years</p>
                        <p><strong>Exercise Needs:</strong> High - at least 1 hour vigorous exercise daily</p>
                        <p><strong>Grooming:</strong> Weekly brushing, more during shedding seasons</p>
                        <p><strong>Health Concerns:</strong> Hip/elbow dysplasia, obesity, ear infections</p>
                        <p><strong>Training:</strong> Highly trainable but needs consistency. Excellent family dogs.</p>
                        <p><strong>Diet:</strong> 2.5-3 cups high-quality dry food daily, divided into 2 meals</p>
                    </div>
                    
                    <div class="resource-item" data-resource="poodle-guide">
                        Poodle Guide
                    </div>
                    <div class="resource-content" id="poodle-guide">
                        <h4>Poodle Complete Care Guide</h4>
                        <img src="https://images.unsplash.com/photo-1594149929911-78975a43d4f5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Poodle" style="width: 100%; max-width: 300px; border-radius: 10px; float: right; margin: 0 0 15px 15px;">
                        <p><strong>Temperament:</strong> Intelligent, active, proud</p>
                        <p><strong>Size:</strong> 
                            Toy: under 10 lbs (4.5 kg), 
                            Miniature: 10-15 lbs (4.5-7 kg), 
                            Standard: 45-70 lbs (20-32 kg)
                        </p>
                        <p><strong>Lifespan:</strong> 10-18 years (smaller varieties live longer)</p>
                        <p><strong>Exercise Needs:</strong> Moderate to high - daily walks and play</p>
                        <p><strong>Grooming:</strong> High maintenance - professional grooming every 4-6 weeks</p>
                        <p><strong>Health Concerns:</strong> Hip dysplasia, eye disorders, skin conditions</p>
                        <p><strong>Training:</strong> Highly intelligent and eager to please. Excel in obedience.</p>
                        <p><strong>Diet:</strong> Varies by size - consult your vet for portion guidance</p>
                    </div>
                </div>
                
                <div class="resource-category">
                    <h3><i class="fas fa-cat"></i> Cat Breed Guides</h3>
                    <div class="resource-item" data-resource="siamese-guide">
                        Siamese Cat Guide
                    </div>
                    <div class="resource-content" id="siamese-guide">
                        <h4>Siamese Cat Complete Care Guide</h4>
                        <img src="https://images.unsplash.com/photo-1573865526739-10659fec78a5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Siamese Cat" style="width: 100%; max-width: 300px; border-radius: 10px; float: right; margin: 0 0 15px 15px;">
                        <p><strong>Temperament:</strong> Vocal, social, intelligent</p>
                        <p><strong>Size:</strong> 8-15 lbs (3.5-7 kg)</p>
                        <p><strong>Lifespan:</strong> 15-20 years</p>
                        <p><strong>Exercise Needs:</strong> Moderate - enjoys interactive play</p>
                        <p><strong>Grooming:</strong> Low - weekly brushing sufficient</p>
                        <p><strong>Health Concerns:</strong> Dental issues, respiratory conditions, amyloidosis</p>
                        <p><strong>Personality:</strong> Very people-oriented, can be demanding. Not ideal for quiet homes.</p>
                        <p><strong>Diet:</strong> High-quality protein sources. Prone to obesity if overfed.</p>
                    </div>
                    
                    <div class="resource-item" data-resource="persian-guide">
                        Persian Cat Guide
                    </div>
                    <div class="resource-content" id="persian-guide">
                        <h4>Persian Cat Complete Care Guide</h4>
                        <img src="https://images.unsplash.com/photo-1533738363-b7f9aef128ce?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Persian Cat" style="width: 100%; max-width: 300px; border-radius: 10px; float: right; margin: 0 0 15px 15px;">
                        <p><strong>Temperament:</strong> Calm, affectionate, quiet</p>
                        <p><strong>Size:</strong> 7-12 lbs (3-5.5 kg)</p>
                        <p><strong>Lifespan:</strong> 12-16 years</p>
                        <p><strong>Exercise Needs:</strong> Low - enjoys gentle play</p>
                        <p><strong>Grooming:</strong> High - daily brushing required to prevent mats</p>
                        <p><strong>Health Concerns:</strong> Breathing difficulties, eye discharge, polycystic kidney disease</p>
                        <p><strong>Personality:</strong> Gentle and docile. Prefers calm environments.</p>
                        <p><strong>Diet:</strong> May need special formulations for coat health and to prevent hairballs.</p>
                    </div>
                </div>
                
                <div class="resource-category">
                    <h3><i class="fas fa-dove"></i> Exotic Pet Guides</h3>
                    <div class="resource-item" data-resource="bearded-dragon-guide">
                        Bearded Dragon Guide
                    </div>
                    <div class="resource-content" id="bearded-dragon-guide">
                        <h4>Bearded Dragon Complete Care Guide</h4>
                        <img src="https://images.unsplash.com/photo-1497752531616-c3afd9760b11?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Bearded Dragon" style="width: 100%; max-width: 300px; border-radius: 10px; float: right; margin: 0 0 15px 15px;">
                        <p><strong>Temperament:</strong> Generally docile, can be hand-tamed</p>
                        <p><strong>Size:</strong> 16-24 inches (40-60 cm) including tail</p>
                        <p><strong>Lifespan:</strong> 8-12 years in captivity</p>
                        <p><strong>Housing:</strong> Minimum 40-gallon tank for adults, with basking area</p>
                        <p><strong>Temperature:</strong> Basking spot 95-110F (35-43C), cool side 75-85F (24-29C)</p>
                        <p><strong>Lighting:</strong> UVB lighting essential for 10-12 hours daily</p>
                        <p><strong>Diet:</strong> Omnivorous - mix of insects (crickets, roaches) and vegetables</p>
                        <p><strong>Health Concerns:</strong> Metabolic bone disease, impaction, respiratory infections</p>
                    </div>
                    
                    <div class="resource-item" data-resource="parrot-guide">
                        Parrot Care Guide
                    </div>
                    <div class="resource-content" id="parrot-guide">
                        <h4>Parrot Complete Care Guide</h4>
                        <img src="https://images.unsplash.com/photo-1551085254-e96b210db58a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Parrot" style="width: 100%; max-width: 300px; border-radius: 10px; float: right; margin: 0 0 15px 15px;">
                        <p><strong>Temperament:</strong> Intelligent, social, can be noisy</p>
                        <p><strong>Size:</strong> Varies by species from 5 inches to 3 feet</p>
                        <p><strong>Lifespan:</strong> 15-80 years depending on species</p>
                        <p><strong>Housing:</strong> Largest cage possible with horizontal bars for climbing</p>
                        <p><strong>Diet:</strong> High-quality pellets supplemented with fresh fruits/vegetables</p>
                        <p><strong>Enrichment:</strong> Requires daily interaction and mental stimulation</p>
                        <p><strong>Health Concerns:</strong> Feather plucking, nutritional deficiencies, psittacosis</p>
                        <p><strong>Note:</strong> Parrots are long-term commitments requiring significant time and attention.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="pet-mascot" id="pet-mascot" style="background-image: url('https://cdn.pixabay.com/animation/2022/10/11/03/16/03-16-39-160_512.gif')"></div>

    <footer>
        <p>Ultimate Pet Cost Analyzer &copy; 2023 | Prices are estimates based on real-time data and may vary by location</p>
        <p><i class="fas fa-sync-alt"></i> Data updated daily | <i class="fas fa-lock"></i> Secure calculations</p>
        <p style="margin-top: 15px;">
            <a href="#" style="color: var(--primary); text-decoration: none; margin: 0 10px;">Blog</a>
            <a href="#" style="color: var(--primary); text-decoration: none; margin: 0 10px;">About Us</a>
            <a href="#" style="color: var(--primary); text-decoration: none; margin: 0 10px;">Vet Partners</a>
            <a href="#" style="color: var(--primary); text-decoration: none; margin: 0 10px;">API</a>
        </p>
    </footer>

    <script>
        // Enhanced breed data for different pet types with more specific farm animals
        const breedData = {
            'dog': ['Labrador Retriever', 'German Shepherd', 'Golden Retriever', 'Bulldog', 'Beagle', 
                   'Poodle', 'Rottweiler', 'Yorkshire Terrier', 'Boxer', 'Dachshund', 'Siberian Husky',
                   'Great Dane', 'Shih Tzu', 'Chihuahua', 'Border Collie', 'Australian Shepherd'],
            'cat': ['Domestic Shorthair', 'Siamese', 'Persian', 'Maine Coon', 'Ragdoll', 
                   'Bengal', 'Abyssinian', 'Scottish Fold', 'Sphynx', 'British Shorthair',
                   'Russian Blue', 'Norwegian Forest Cat', 'Burmese', 'Birman', 'Tonkinese'],
            'bird': ['Parakeet', 'Cockatiel', 'Lovebird', 'Canary', 'Finch', 
                    'African Grey', 'Macaw', 'Cockatoo', 'Amazon Parrot', 'Conure',
                    'Budgerigar', 'Eclectus Parrot', 'Quaker Parrot', 'Pionus', 'Caique'],
            'fish': ['Goldfish', 'Betta', 'Guppy', 'Angelfish', 'Tetra', 
                    'Cichlid', 'Discus', 'Oscar', 'Clownfish', 'Neon Tetra',
                    'Zebra Danio', 'Platy', 'Molly', 'Swordtail', 'Koi'],
            'reptile': ['Bearded Dragon', 'Leopard Gecko', 'Ball Python', 'Corn Snake', 'Tortoise', 
                       'Iguana', 'Chameleon', 'Crested Gecko', 'Turtle', 'Boa Constrictor',
                       'Blue Tongue Skink', 'Uromastyx', 'Monitor Lizard', 'Garter Snake', 'Anole'],
            'small-mammal': ['Rabbit', 'Guinea Pig', 'Hamster', 'Rat', 'Mouse', 
                            'Ferret', 'Chinchilla', 'Hedgehog', 'Gerbil', 'Sugar Glider',
                            'Degus', 'Fancy Mouse', 'Dwarf Hamster', 'Prairie Dog', 'Skunk'],
            'exotic': ['Tarantula', 'Scorpion', 'Frog', 'Salamander', 'Axolotl', 
                      'Hermit Crab', 'Stick Insect', 'Millipede', 'Snail', 'Pygmy Hedgehog',
                      'Mantis', 'Centipede', 'Ant Farm', 'Sea Monkeys', 'Butterflies'],
            'farm': ['Chicken', 'Duck', 'Goat', 'Sheep', 'Pig', 
                    'Cow', 'Horse', 'Donkey', 'Alpaca', 'Llama',
                    'Turkey', 'Goose', 'Quail', 'Peacock', 'Emu'],
            'amphibian': ['Tree Frog', 'Toad', 'Newt', 'Salamander', 'Fire Belly Newt',
                         'Pacman Frog', 'Dart Frog', 'Bullfrog', 'Mudpuppy', 'Siren'],
            'invertebrate': ['Tarantula', 'Scorpion', 'Mantis', 'Beetle', 'Stick Insect',
                            'Millipede', 'Centipede', 'Ants', 'Praying Mantis', 'Hissing Cockroach'],
            'other': ['Other']
        };

        // Pet images with more variety and working URLs
        const petImages = {
            'dog': 'https://images.unsplash.com/photo-1586671267731-da2cf3ceeb80?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80',
            'cat': 'https://images.unsplash.com/photo-1519052537078-e6302a4968d4?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80',
            'bird': 'https://images.unsplash.com/photo-1551085254-e96b210db58a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80',
            'fish': 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80',
            'reptile': 'https://images.unsplash.com/photo-1497752531616-c3afd9760b11?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80',
            'small-mammal': 'https://images.unsplash.com/photo-1551651656-10a2c4a3a7fc?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80',
            'exotic': 'https://images.unsplash.com/photo-1559253664-ca249d4608c6?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80',
            'farm': 'https://images.unsplash.com/photo-1500595046743-cd271d694d30?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80',
            'amphibian': 'https://images.unsplash.com/photo-1559253664-ca249d4608c6?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80',
            'invertebrate': 'https://images.unsplash.com/photo-1566228015668-4c45dbc4e2f5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80',
            'other': 'https://images.unsplash.com/photo-1555169062-013468b47731?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'
        };

        // Enhanced base costs for different pet types with more realistic pricing
        const baseCosts = {
            'dog': {
                'food': 40,
                'healthcare': 50,
                'grooming': 35,
                'supplies': 25,
                'insurance': 45,
                'training': 30,
                'boarding': 40
            },
            'cat': {
                'food': 25,
                'healthcare': 40,
                'grooming': 20,
                'supplies': 20,
                'insurance': 35,
                'training': 15,
                'boarding': 25
            },
            'bird': {
                'food': 15,
                'healthcare': 30,
                'grooming': 10,
                'supplies': 25,
                'insurance': 15,
                'training': 10,
                'boarding': 15
            },
            'fish': {
                'food': 10,
                'healthcare': 15,
                'grooming': 5,
                'supplies': 30,
                'insurance': 0,
                'training': 0,
                'boarding': 10
            },
            'reptile': {
                'food': 20,
                'healthcare': 25,
                'grooming': 5,
                'supplies': 40,
                'insurance': 10,
                'training': 5,
                'boarding': 20
            },
            'small-mammal': {
                'food': 15,
                'healthcare': 20,
                'grooming': 5,
                'supplies': 25,
                'insurance': 10,
                'training': 5,
                'boarding': 15
            },
            'exotic': {
                'food': 25,
                'healthcare': 45,
                'grooming': 10,
                'supplies': 50,
                'insurance': 20,
                'training': 10,
                'boarding': 30
            },
            'farm': {
                // Farm animals have very different costs
                'Chicken': {
                    'food': 10,
                    'healthcare': 15,
                    'grooming': 5,
                    'supplies': 15,
                    'insurance': 5,
                    'training': 0,
                    'boarding': 10
                },
                'Horse': {
                    'food': 150,
                    'healthcare': 120,
                    'grooming': 40,
                    'supplies': 80,
                    'insurance': 100,
                    'training': 60,
                    'boarding': 250
                },
                'Goat': {
                    'food': 30,
                    'healthcare': 25,
                    'grooming': 10,
                    'supplies': 40,
                    'insurance': 20,
                    'training': 10,
                    'boarding': 50
                },
                'Pig': {
                    'food': 60,
                    'healthcare': 50,
                    'grooming': 15,
                    'supplies': 50,
                    'insurance': 30,
                    'training': 10,
                    'boarding': 80
                },
                'Cow': {
                    'food': 120,
                    'healthcare': 90,
                    'grooming': 25,
                    'supplies': 100,
                    'insurance': 70,
                    'training': 15,
                    'boarding': 180
                },
                // Default for other farm animals
                'default': {
                    'food': 40,
                    'healthcare': 35,
                    'grooming': 20,
                    'supplies': 50,
                    'insurance': 25,
                    'training': 15,
                    'boarding': 40
                }
            },
            'amphibian': {
                'food': 15,
                'healthcare': 20,
                'grooming': 5,
                'supplies': 30,
                'insurance': 5,
                'training': 0,
                'boarding': 10
            },
            'invertebrate': {
                'food': 10,
                'healthcare': 15,
                'grooming': 5,
                'supplies': 25,
                'insurance': 0,
                'training': 0,
                'boarding': 5
            },
            'other': {
                'food': 20,
                'healthcare': 25,
                'grooming': 10,
                'supplies': 30,
                'insurance': 15,
                'training': 5,
                'boarding': 20
            }
        };

        // Enhanced lifestyle multipliers with more tiers
        const lifestyleMultipliers = {
            'basic': {
                'food': 0.8,
                'healthcare': 0.9,
                'grooming': 0.7,
                'supplies': 0.8,
                'insurance': 0.9,
                'training': 0.6,
                'boarding': 0.8
            },
            'standard': {
                'food': 1.0,
                'healthcare': 1.0,
                'grooming': 1.0,
                'supplies': 1.0,
                'insurance': 1.0,
                'training': 1.0,
                'boarding': 1.0
            },
            'premium': {
                'food': 1.3,
                'healthcare': 1.2,
                'grooming': 1.3,
                'supplies': 1.4,
                'insurance': 1.2,
                'training': 1.1,
                'boarding': 1.3
            },
            'luxury': {
                'food': 2.0,
                'healthcare': 1.8,
                'grooming': 2.0,
                'supplies': 2.2,
                'insurance': 1.8,
                'training': 1.5,
                'boarding': 2.0
            }
        };

        // Size multipliers (for dogs/cats)
        const sizeMultipliers = {
            'small': 0.7,
            'medium': 1.0,
            'large': 1.5,
            'xlarge': 2.0
        };

        // Age multipliers with more detail
        const ageMultipliers = {
            'young': {
                'food': 1.2,
                'healthcare': 1.4,
                'grooming': 1.0,
                'supplies': 1.3,
                'insurance': 1.3,
                'training': 1.6,
                'boarding': 1.0
            },
            'adult': {
                'food': 1.0,
                'healthcare': 1.0,
                'grooming': 1.0,
                'supplies': 1.0,
                'insurance': 1.0,
                'training': 1.0,
                'boarding': 1.0
            },
            'senior': {
                'food': 0.9,
                'healthcare': 1.8,
                'grooming': 1.2,
                'supplies': 1.0,
                'insurance': 1.7,
                'training': 0.6,
                'boarding': 1.2
            }
        };

        // Enhanced country cost of living adjustments with more countries
        const countryMultipliers = {
            'us': 1.0,      // United States
            'ca': 0.95,     // Canada
            'mx': 0.6,      // Mexico
            'uk': 0.9,      // United Kingdom
            'de': 0.85,     // Germany
            'fr': 0.88,     // France
            'it': 0.82,     // Italy
            'es': 0.78,     // Spain
            'jp': 1.1,      // Japan
            'cn': 0.65,     // China
            'in': 0.5,      // India
            'au': 1.05,     // Australia
            'br': 0.55,     // Brazil
            'za': 0.6,      // South Africa
            'ae': 0.95,     // UAE
            'other': 0.8    // Other countries
        };

        // Country flag mapping (using ISO country codes)
        const countryFlags = {
            'us': '',
            'ca': '',
            'mx': '',
            'uk': '',
            'de': '',
            'fr': '',
            'it': '',
            'es': '',
            'jp': '',
            'cn': '',
            'in': '',
            'au': '',
            'br': '',
            'za': '',
            'ae': ''
        };

        // Enhanced quiz results mapping with more combinations
        const quizResults = {
            'low-independent-small-beginner': {
                pet: 'Fish or Hamster',
                description: 'Based on your answers, a low-maintenance pet like a fish or hamster would be perfect for your small space and beginner experience level! These pets are affordable and don\'t require much interaction.',
                image: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'
            },
            'low-interactive-small-beginner': {
                pet: 'Budgie or Small Bird',
                description: 'A small bird like a budgie would fit your budget while still providing interactive companionship. They\'re relatively easy to care for and can be quite social.',
                image: 'https://images.unsplash.com/photo-1551085254-e96b210db58a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'
            },
            'low-companion-small-beginner': {
                pet: 'Cat or Guinea Pig',
                description: 'Consider adopting an adult cat or guinea pig from a shelter - they can be very affordable and loving companions that don\'t need much space!',
                image: 'https://images.unsplash.com/photo-1519052537078-e6302a4968d4?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'
            },
            'medium-independent-medium-intermediate': {
                pet: 'Reptile or Amphibian',
                description: 'A reptile like a leopard gecko or amphibian would suit your lifestyle - fascinating to watch but not needing constant attention. Your intermediate experience level makes these good options.',
                image: 'https://images.unsplash.com/photo-1497752531616-c3afd9760b11?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'
            },
            'medium-interactive-medium-intermediate': {
                pet: 'Cat or Small Dog',
                description: 'A cat or small dog would be perfect for your budget and the amount of interaction you want. Your medium space and experience level can accommodate these pets well.',
                image: 'https://images.unsplash.com/photo-1586671267731-da2cf3ceeb80?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'
            },
            'medium-companion-medium-intermediate': {
                pet: 'Medium Dog or Pair of Rabbits',
                description: 'A medium-sized dog or a pair of bonded rabbits would make great companions for you. They fit your budget and desire for companionship.',
                image: 'https://images.unsplash.com/photo-1551651656-10a2c4a3a7fc?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'
            },
            'high-independent-large-expert': {
                pet: 'Exotic Pet or Aquarium',
                description: 'With your budget and experience, you could consider an exotic pet like a sugar glider or a beautiful aquarium setup with multiple fish species.',
                image: 'https://images.unsplash.com/photo-1559253664-ca249d4608c6?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'
            },
            'high-interactive-large-expert': {
                pet: 'Large Dog or Multiple Pets',
                description: 'You could comfortably afford a large dog or even multiple pets with your budget! Your space and experience level can handle more demanding pets.',
                image: 'https://images.unsplash.com/photo-1500595046743-cd271d694d30?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'
            },
            'high-companion-large-expert': {
                pet: 'Special Breed Dog or Parrot',
                description: 'Consider a special breed dog that matches your personality or a parrot - you have the budget and experience for these more demanding but rewarding companions!',
                image: 'https://images.unsplash.com/photo-1561037404-61cd46aa615b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'
            },
            // Default fallback
            'default': {
                pet: 'Cat or Small Dog',
                description: 'Based on your answers, a cat or small dog would be a great fit for your lifestyle! They offer a good balance of companionship and manageable care requirements.',
                image: 'https://images.unsplash.com/photo-1519052537078-e6302a4968d4?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'
            }
        };

        // DOM elements
        const petTypeSelect = document.getElementById('pet-type');
        const breedGroup = document.getElementById('breed-group');
        const petBreedSelect = document.getElementById('pet-breed');
        const calculateBtn = document.getElementById('calculate-btn');
        const resultsDiv = document.getElementById('results');
        const loadingDiv = document.getElementById('loading');
        const petImg = document.getElementById('pet-img');
        const sizeGroup = document.getElementById('size-group');
        const petIcons = document.querySelectorAll('.pet-icon');
        const locationSelect = document.getElementById('location');
        const zipGroup = document.getElementById('zip-group');
        const costBadge = document.getElementById('cost-badge');
        const compareResult = document.getElementById('compare-result');
        const shareComparisonBtn = document.getElementById('share-comparison');
        const yearlyCost = document.getElementById('yearly-cost');
        const potentialSavings = document.getElementById('potential-savings');
        const vetProbability = document.getElementById('vet-probability');
        const aiQuestion = document.getElementById('ai-question');
        const askAiBtn = document.getElementById('ask-ai');
        const aiResponse = document.getElementById('ai-response');
        const nextQuestionBtn = document.getElementById('next-question');
        const quizResult = document.getElementById('quiz-result');
        const quizPetResult = document.getElementById('quiz-pet-result');
        const shareQuizBtn = document.getElementById('share-quiz');
        const lemonadeCost = document.getElementById('lemonade-cost');
        const trupanionCost = document.getElementById('trupanion-cost');
        const nationwideCost = document.getElementById('nationwide-cost');
        const petMascot = document.getElementById('pet-mascot');
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');
        const resourceItems = document.querySelectorAll('.resource-item');

        // Quiz state
        let currentQuestion = 1;
        const quizAnswers = {};

        // Add flags to country select options
        function addCountryFlags() {
            const options = locationSelect.options;
            for (let i = 0; i < options.length; i++) {
                const option = options[i];
                const flag = option.getAttribute('data-flag');
                if (flag && countryFlags[flag]) {
                    option.textContent = countryFlags[flag] + ' ' + option.textContent;
                }
            }
        }

        // Event listeners
        petTypeSelect.addEventListener('change', updateBreeds);
        calculateBtn.addEventListener('click', calculateCosts);
        locationSelect.addEventListener('change', toggleZipField);
        shareComparisonBtn.addEventListener('click', shareComparison);
        askAiBtn.addEventListener('click', getAIAdvice);
        nextQuestionBtn.addEventListener('click', nextQuizQuestion);
        shareQuizBtn.addEventListener('click', shareQuizResult);
        petMascot.addEventListener('click', animateMascot);
        
        // Tab switching
        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const tabId = btn.getAttribute('data-tab');
                
                // Update active tab button
                tabBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                // Show corresponding tab content
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === tabId) {
                        content.classList.add('active');
                    }
                });
            });
        });

        // Resource item click handlers
        resourceItems.forEach(item => {
            item.addEventListener('click', function() {
                const resourceId = this.getAttribute('data-resource');
                const content = document.getElementById(resourceId);
                
                // Toggle content visibility
                if (content.classList.contains('active')) {
                    content.classList.remove('active');
                } else {
                    // Close all other resources first
                    document.querySelectorAll('.resource-content').forEach(c => {
                        c.classList.remove('active');
                    });
                    content.classList.add('active');
                }
            });
        });

        // Pet icon click handlers
        petIcons.forEach(icon => {
            icon.addEventListener('click', () => {
                petIcons.forEach(i => i.classList.remove('active'));
                icon.classList.add('active');
                petTypeSelect.value = icon.getAttribute('data-pet');
                updateBreeds();
            });
        });

        // Quiz option click handlers
        document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', function() {
                // Remove selected class from all options in this question
                this.parentNode.querySelectorAll('.quiz-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Add selected class to clicked option
                this.classList.add('selected');
                
                // Store answer
                if (currentQuestion === 1) {
                    quizAnswers.budget = this.getAttribute('data-value');
                } else if (currentQuestion === 2) {
                    quizAnswers.time = this.getAttribute('data-value');
                } else if (currentQuestion === 3) {
                    quizAnswers.type = this.getAttribute('data-value');
                } else if (currentQuestion === 4) {
                    quizAnswers.space = this.getAttribute('data-value');
                } else if (currentQuestion === 5) {
                    quizAnswers.experience = this.getAttribute('data-value');
                }
            });
        });

        // Update breed options based on pet type
        function updateBreeds() {
            const petType = petTypeSelect.value;
            
            // Show/hide size group based on pet type
            if (petType === 'dog' || petType === 'cat') {
                sizeGroup.style.display = 'block';
            } else {
                sizeGroup.style.display = 'none';
            }
            
            if (petType) {
                breedGroup.style.display = 'block';
                petBreedSelect.innerHTML = '<option value="">-- Select Breed/Type --</option>';
                
                breedData[petType].forEach(breed => {
                    const option = document.createElement('option');
                    option.value = breed.toLowerCase().replace(' ', '-');
                    option.textContent = breed;
                    petBreedSelect.appendChild(option);
                });
                
                // Update pet image
                petImg.src = petImages[petType];
            } else {
                breedGroup.style.display = 'none';
            }
        }

        // Toggle ZIP code field based on country
        function toggleZipField() {
            const country = locationSelect.value;
            if (country === 'us' || country === 'ca' || country === 'uk') {
                zipGroup.style.display = 'block';
            } else {
                zipGroup.style.display = 'none';
            }
        }

        // Calculate estimated monthly costs
        function calculateCosts() {
            const petType = petTypeSelect.value;
            const breed = petBreedSelect.value;
            
            if (!petType) {
                alert('Please select a pet type');
                return;
            }
            
            // Show loading animation
            loadingDiv.style.display = 'block';
            resultsDiv.style.display = 'none';
            
            // Simulate fetching real-time data (in a real app, this would be API calls)
            setTimeout(() => {
                const lifestyle = document.querySelector('input[name="lifestyle"]:checked').value;
                const size = document.getElementById('pet-size').value;
                const age = document.getElementById('pet-age').value;
                const country = document.getElementById('location').value;
                const zip = document.getElementById('zip-code').value;
                
                // Get base costs - special handling for farm animals
                let baseCost;
                if (petType === 'farm' && breed) {
                    const breedName = petBreedSelect.options[petBreedSelect.selectedIndex].text;
                    baseCost = baseCosts[petType][breedName] || baseCosts[petType]['default'];
                } else {
                    baseCost = baseCosts[petType];
                }
                
                const lifestyleMultiplier = lifestyleMultipliers[lifestyle];
                const sizeMultiplier = (petType === 'dog' || petType === 'cat') ? sizeMultipliers[size] : 1.0;
                const ageMultiplier = ageMultipliers[age];
                const countryMultiplier = countryMultipliers[country];
                
                // Calculate final costs for each category
                const costs = {};
                for (const category in baseCost) {
                    costs[category] = baseCost[category] * 
                                     lifestyleMultiplier[category] * 
                                     (category === 'food' || category === 'grooming' ? sizeMultiplier : 1) * 
                                     ageMultiplier[category] * 
                                     countryMultiplier;
                }
                
                const totalCost = Object.values(costs).reduce((sum, cost) => sum + cost, 0);
                
                // Update UI with calculated costs
                document.getElementById('food-cost').textContent = formatCurrency(costs.food, country);
                document.getElementById('healthcare-cost').textContent = formatCurrency(costs.healthcare, country);
                document.getElementById('grooming-cost').textContent = formatCurrency(costs.grooming, country);
                document.getElementById('supplies-cost').textContent = formatCurrency(costs.supplies, country);
                document.getElementById('insurance-cost').textContent = formatCurrency(costs.insurance, country);
                document.getElementById('total-cost').textContent = formatCurrency(totalCost, country);
                
                // Update analytics
                yearlyCost.textContent = formatCurrency(totalCost * 12, country);
                potentialSavings.textContent = formatCurrency(totalCost * 0.15 * 12, country); // 15% potential savings
                
                // Update insurance comparisons
                lemonadeCost.textContent = formatCurrency(costs.insurance * 0.9, country); // 10% cheaper
                trupanionCost.textContent = formatCurrency(costs.insurance * 1.1, country); // 10% more expensive
                nationwideCost.textContent = formatCurrency(costs.insurance, country); // Same as estimate
                
                // Set gamification badge based on lifestyle
                costBadge.style.display = 'block';
                if (lifestyle === 'luxury') {
                    costBadge.textContent = 'Luxury Pet Parent ';
                    costBadge.style.background = 'linear-gradient(to right, var(--luxury), var(--warning))';
                } else if (lifestyle === 'premium') {
                    costBadge.textContent = 'Premium Caregiver ';
                    costBadge.style.background = 'linear-gradient(to right, var(--info), var(--secondary))';
                } else if (lifestyle === 'standard') {
                    costBadge.textContent = 'Standard Provider ';
                    costBadge.style.background = 'linear-gradient(to right, var(--success), var(--primary-light))';
                } else {
                    costBadge.textContent = 'Budget Pet Owner ';
                    costBadge.style.background = 'linear-gradient(to right, var(--primary-light), var(--light-gray))';
                }
                
                // Generate comparison text
                const comparisons = [
                    `Your ${petType} costs ${Math.round(Math.random() * 30) + 10}% ${Math.random() > 0.5 ? 'more' : 'less'} than similar pets in your area!`,
                    `You spend ${Math.round(Math.random() * 40) + 10}% ${Math.random() > 0.5 ? 'more' : 'less'} on food than the average ${petType} owner.`,
                    `Your healthcare costs are ${Math.round(Math.random() * 50) + 10}% ${Math.random() > 0.5 ? 'above' : 'below'} the national average.`
                ];
                compareResult.textContent = comparisons[Math.floor(Math.random() * comparisons.length)];
                
                // Update vet probability (simple simulation)
                if (age === 'senior') {
                    vetProbability.textContent = '65%';
                } else if (age === 'young') {
                    vetProbability.textContent = '45%';
                } else {
                    vetProbability.textContent = '30%';
                }
                
                // Update chart
                updateChart([
                    costs.food, 
                    costs.healthcare, 
                    costs.grooming, 
                    costs.supplies, 
                    costs.insurance,
                    costs.training,
                    costs.boarding
                ], country, [
                    'Food', 
                    'Healthcare', 
                    'Grooming', 
                    'Supplies', 
                    'Insurance',
                    'Training',
                    'Boarding'
                ]);
                
                // Hide loading and show results
                loadingDiv.style.display = 'none';
                resultsDiv.style.display = 'block';
                
                // Scroll to results
                resultsDiv.scrollIntoView({ behavior: 'smooth' });
                
                // Animate mascot based on lifestyle
                animateMascot(lifestyle);
            }, 1500);
        }

        // Format currency based on country
        function formatCurrency(amount, country) {
            const currencies = {
                'us': 'USD',
                'ca': 'CAD',
                'mx': 'MXN',
                'uk': 'GBP',
                'de': 'EUR',
                'fr': 'EUR',
                'it': 'EUR',
                'es': 'EUR',
                'jp': 'JPY',
                'cn': 'CNY',
                'in': 'INR',
                'au': 'AUD',
                'br': 'BRL',
                'za': 'ZAR',
                'ae': 'AED',
                'other': 'USD'
            };
            
            const currencySymbols = {
                'USD': '$',
                'CAD': '$',
                'MXN': '$',
                'GBP': '',
                'EUR': '',
                'JPY': '',
                'CNY': '',
                'INR': '',
                'AUD': '$',
                'BRL': 'R$',
                'ZAR': 'R',
                'AED': '.'
            };
            
            const currency = currencies[country];
            const symbol = currencySymbols[currency] || '$';
            
            // Round to 2 decimal places (except for JPY which doesn't use decimals)
            amount = currency === 'JPY' ? Math.round(amount) : Math.round(amount * 100) / 100;
            
            // Format number with commas
            const formattedAmount = amount.toLocaleString(undefined, {
                minimumFractionDigits: currency === 'JPY' ? 0 : 2,
                maximumFractionDigits: currency === 'JPY' ? 0 : 2
            });
            
            return symbol + formattedAmount;
        }

        // Share comparison results
        function shareComparison() {
            const petType = petTypeSelect.value;
            const totalCost = document.getElementById('total-cost').textContent;
            const comparisonText = compareResult.textContent;
            
            const shareText = `My ${petType} costs ${totalCost}/month. ${comparisonText} Check out the Ultimate Pet Cost Analyzer!`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'My Pet Cost Comparison',
                    text: shareText,
                    url: window.location.href
                }).catch(err => {
                    console.log('Error sharing:', err);
                    alert('Share failed: ' + err.message);
                });
            } else {
                // Fallback for browsers that don't support Web Share API
                const shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}`;
                window.open(shareUrl, '_blank');
            }
        }

        // Get AI advice with better question analysis
        function getAIAdvice() {
            const question = aiQuestion.value.trim();
            if (!question) {
                alert('Please enter a question');
                return;
            }
            
            aiResponse.textContent = 'Thinking...';
            askAiBtn.disabled = true;
            askAiBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Thinking...';
            
            // Analyze the question
            const petType = petTypeSelect.value;
            const lifestyle = document.querySelector('input[name="lifestyle"]:checked').value;
            const country = document.getElementById('location').value;
            
            // Keywords to detect in questions
            const costKeywords = ['cost', 'price', 'expensive', 'cheap', 'affordable', 'budget'];
            const foodKeywords = ['food', 'feed', 'diet', 'nutrition', 'eat'];
            const healthKeywords = ['health', 'vet', 'medical', 'illness', 'vaccine'];
            const careKeywords = ['care', 'groom', 'maintain', 'look after', 'keep'];
            const saveKeywords = ['save', 'reduce', 'lower', 'cut', 'spend less'];
            
            // Determine question type
            let questionType = 'general';
            let isCostQuestion = costKeywords.some(kw => question.toLowerCase().includes(kw));
            let isFoodQuestion = foodKeywords.some(kw => question.toLowerCase().includes(kw));
            let isHealthQuestion = healthKeywords.some(kw => question.toLowerCase().includes(kw));
            let isCareQuestion = careKeywords.some(kw => question.toLowerCase().includes(kw));
            let isSaveQuestion = saveKeywords.some(kw => question.toLowerCase().includes(kw));
            
            if (!isCostQuestion && !isFoodQuestion && !isHealthQuestion && !isCareQuestion && !isSaveQuestion) {
                // If the question doesn't make sense for our AI
                setTimeout(() => {
                    aiResponse.textContent = "I'm sorry, I can only answer questions about pet costs and care. Please ask me something about pet expenses, food, health care, or how to save money on pet ownership.";
                    askAiBtn.disabled = false;
                    askAiBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Ask AI';
                }, 1500);
                return;
            }
            
            // Simulate AI response with better analysis (in a real app, this would call an API)
            setTimeout(() => {
                const advice = [];
                
                // General advice applicable to all questions
                if (petType) {
                    advice.push(`For your ${petType} in ${country}, `);
                } else {
                    advice.push(`For pets in ${country}, `);
                }
                
                // Specific advice based on question type
                if (isSaveQuestion) {
                    advice.push(`here are ways to save money:`);
                    advice.push(`- Buy food and supplies in bulk to save 10-20%`);
                    advice.push(`- Consider pet insurance to manage unexpected vet costs`);
                    advice.push(`- Groom at home between professional sessions`);
                    advice.push(`- Look for seasonal sales on pet products`);
                } else if (isFoodQuestion) {
                    advice.push(`here's food advice:`);
                    advice.push(`- High-quality food can reduce vet bills long-term`);
                    if (petType === 'dog' || petType === 'cat') {
                        advice.push(`- ${petType === 'dog' ? 'Dogs' : 'Cats'} need protein-rich diets`);
                    }
                    advice.push(`- Measure portions to prevent overfeeding`);
                    advice.push(`- Store food properly to maintain freshness`);
                } else if (isHealthQuestion) {
                    advice.push(`here's health advice:`);
                    advice.push(`- Preventive care saves money long-term`);
                    advice.push(`- Annual checkups catch problems early`);
                    if (petType === 'dog' || petType === 'cat') {
                        advice.push(`- Keep up with ${petType === 'dog' ? 'dog' : 'cat'} vaccinations`);
                    }
                    advice.push(`- Pet insurance can offset unexpected costs`);
                } else if (isCareQuestion) {
                    advice.push(`here's care advice:`);
                    if (petType === 'dog') {
                        advice.push(`- Regular brushing reduces grooming costs`);
                        advice.push(`- Dental care prevents expensive procedures`);
                    } else if (petType === 'cat') {
                        advice.push(`- Scratching posts protect your furniture`);
                        advice.push(`- Litter box maintenance prevents issues`);
                    }
                    advice.push(`- Mental stimulation prevents behavior problems`);
                } else if (isCostQuestion) {
                    advice.push(`here's cost advice:`);
                    advice.push(`- Initial costs are often higher than monthly`);
                    advice.push(`- Larger pets typically cost more for food/supplies`);
                    advice.push(`- Premium brands may not always be better`);
                    advice.push(`- DIY toys can be just as fun as store-bought`);
                }
                
                // Lifestyle-specific advice
                if (lifestyle === 'basic') {
                    advice.push(`Since you've selected basic care, focus on essentials first.`);
                } else if (lifestyle === 'luxury') {
                    advice.push(`With your luxury lifestyle, consider premium services that save you time.`);
                }
                
                // Join all advice points with line breaks
                aiResponse.innerHTML = advice.join('<br>');
                askAiBtn.disabled = false;
                askAiBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Ask AI';
            }, 2000);
        }

        // Next quiz question
        function nextQuizQuestion() {
            // Validate current question has an answer
            if (currentQuestion === 1 && !quizAnswers.budget) {
                alert('Please select an answer');
                return;
            }
            
            if (currentQuestion === 2 && !quizAnswers.time) {
                alert('Please select an answer');
                return;
            }
            
            if (currentQuestion === 3 && !quizAnswers.type) {
                alert('Please select an answer');
                return;
            }
            
            if (currentQuestion === 4 && !quizAnswers.space) {
                alert('Please select an answer');
                return;
            }
            
            if (currentQuestion === 5 && !quizAnswers.experience) {
                alert('Please select an answer');
                return;
            }
            
            if (currentQuestion < 5) {
                // Hide current question and show next
                document.querySelector(`.quiz-question:nth-child(${currentQuestion * 2 - 1})`).style.display = 'none';
                document.querySelector(`.quiz-options:nth-child(${currentQuestion * 2})`).style.display = 'none';
                
                currentQuestion++;
                document.querySelector(`.quiz-question:nth-child(${currentQuestion * 2 - 1})`).style.display = 'block';
                document.querySelector(`.quiz-options:nth-child(${currentQuestion * 2})`).style.display = 'flex';
                
                if (currentQuestion === 5) {
                    nextQuestionBtn.textContent = 'See Results';
                }
            } else {
                // Show results
                document.getElementById('quiz-questions').style.display = 'none';
                nextQuestionBtn.style.display = 'none';
                quizResult.style.display = 'block';
                
                // Determine result
                const resultKey = `${quizAnswers.budget}-${quizAnswers.type}-${quizAnswers.space}-${quizAnswers.experience}`;
                const result = quizResults[resultKey] || quizResults['default'];
                
                quizPetResult.innerHTML = `
                    <h4 style="font-size: 1.5rem; margin: 10px 0;">${result.pet}</h4>
                    <p>${result.description}</p>
                    <img src="${result.image}" style="width: 100%; max-width: 200px; border-radius: 10px; margin-top: 15px;">
                `;
            }
        }

        // Share quiz result
        function shareQuizResult() {
            const resultText = `According to the Ultimate Pet Cost Analyzer, I should get a ${quizPetResult.querySelector('h4').textContent}! Find out which pet fits you best.`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'My Perfect Pet Quiz Result',
                    text: resultText,
                    url: window.location.href
                }).catch(err => {
                    console.log('Error sharing:', err);
                    alert('Share failed: ' + err.message);
                });
            } else {
                // Fallback for browsers that don't support Web Share API
                const shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(resultText)}`;
                window.open(shareUrl, '_blank');
            }
        }

        // Animate mascot
        function animateMascot(lifestyle) {
            // Different animations based on lifestyle
            const animations = {
                'basic': 'https://cdn.pixabay.com/animation/2022/10/11/03/16/03-16-39-160_512.gif',
                'standard': 'https://cdn.pixabay.com/animation/2022/10/11/03/16/03-16-39-160_512.gif',
                'premium': 'https://cdn.pixabay.com/animation/2022/10/11/03/16/03-16-39-160_512.gif',
                'luxury': 'https://cdn.pixabay.com/animation/2022/10/11/03/16/03-16-39-160_512.gif'
            };
            
            petMascot.style.backgroundImage = `url('${animations[lifestyle] || animations['standard']}')`;
            
            // Bounce animation
            petMascot.style.transform = 'scale(1.2)';
            setTimeout(() => {
                petMascot.style.transform = 'scale(1)';
            }, 300);
        }

        // Chart instance
        let costChart = null;

        // Update or create chart
        function updateChart(costData, country, labels) {
            const ctx = document.getElementById('cost-chart').getContext('2d');
            const currencySymbol = formatCurrency(1, country).charAt(0);
            
            if (costChart) {
                costChart.destroy();
            }
            
            costChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: costData,
                        backgroundColor: [
                            '#6c5ce7',
                            '#00b894',
                            '#fd79a8',
                            '#fdcb6e',
                            '#0984e3',
                            '#a29bfe',
                            '#55efc4'
                        ],
                        borderWidth: 0,
                        hoverOffset: 15
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                padding: 20,
                                usePointStyle: true,
                                pointStyle: 'circle',
                                font: {
                                    family: 'Poppins',
                                    size: 12
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + currencySymbol + context.raw.toLocaleString();
                                }
                            },
                            bodyFont: {
                                family: 'Poppins',
                                size: 14
                            },
                            titleFont: {
                                family: 'Poppins',
                                size: 16,
                                weight: 'bold'
                            },
                            padding: 12,
                            cornerRadius: 12
                        }
                    },
                    cutout: '60%',
                    animation: {
                        animateScale: true,
                        animateRotate: true
                    }
                }
            });
        }

        // Initialize the app
        function init() {
            addCountryFlags();
            
            // Check if PWA is installed
            if (window.matchMedia('(display-mode: standalone)').matches) {
                console.log('Running as PWA');
            }
            
            // Register service worker for PWA
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('/sw.js').then(registration => {
                        console.log('ServiceWorker registration successful');
                    }, err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
                });
            }
        }

        init();
    </script>
</body>
</html>